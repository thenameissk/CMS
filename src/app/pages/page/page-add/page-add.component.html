<!-- Start Content-->
<div class="container-fluid">

  <!-- start page title -->
  <div class="row">
    <div class="col-12">
      <div class="page-title-box">
        <div class="page-title-right">
          <ol class="breadcrumb m-0">
            <li class="breadcrumb-item"><a href="javascript: void(0);">YashaaGlobal</a></li>
            <li class="breadcrumb-item"><a href="javascript: void(0);">CMS</a></li>
            <li class="breadcrumb-item active">Add Page</li>
          </ol>
        </div>
        <h4 class="page-title">Add Page</h4>
      </div>
    </div>
  </div>
  <!-- end page title -->

  <!-- Start Add User -->
  <form [formGroup]="pageForm">
    <div class="row">
      <div class="col-9">
        <div class="card">
          <h5 class="text-uppercase bg-light p-2 ml-3 mr-3 mt-3">Add New Page</h5>
          <div class="card-body">
            <div class="row">
              <div class="col-md-12">
                <div class="form-group mb-3">
                  <label for="name">Title</label>
                  <input type="text" class="form-control" id="name" placeholder="">
                </div>

                <div class="form-group mb-3">
                  <label for="name">Permalink: <a
                      href="#">https://www.yashaaglobal.com/home/<span>slug</span></a></label>
                </div>

                <div class="form-group mb-3">
                  <label for="slug">Slug</label>
                  <input type="text" class="form-control" id="slug" placeholder="">
                </div>

                <div class="form-group mb-3">
                  <label for="pagetypeCategory">Page Type</label>

                  <ng-select [items]="pagetypeCategory"></ng-select>
                </div>

                <div class="form-group has-feedback"
                  [ngClass]="{ 'has-error': myckeditor.invalid && myckeditor.touched }">
                  <label for="pageDetails">Page Details</label>
                  <ckeditor [(ngModel)]="mycontent" #myckeditor="ngModel" name="myckeditor" required
                    [config]="ckeConfig" debounce="500" (paste)="onPaste($event)" (change)="onChange($event)">
                  </ckeditor>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <h5 class="text-uppercase bg-light p-2 ml-3 mr-3 mt-3">Custom Fields</h5>
          <div class="card-body" formArrayName="customfields">
            <div class="row">
              <div class="col-md-12">
                <h4>Add New Custom Fields</h4>
                <button type="button" class="btn btn-sm btn-success waves-effect waves-light mr-2 mb-3" (click)="customFieldName(customFieldNameData)">Add New Custom Field</button>
                <button type="button" class="btn btn-sm btn-success waves-effect waves-light ml-2 mb-3" (click)="addNewField()">Add Field</button>
                <div class="form-group">
                  <table class="table table-striped table-bordered">
                    <tbody>
                      <tr *ngFor="let field of customfields.controls;let i=index">
                        <td style="width: 50px;">
                        <button type="button" class="btn text-danger bg-soft-danger btn-rounded" (click)="removeField()"><i class="mdi mdi-delete"></i></button>
                      </td>
                      <td style="width: 250px;">
                        <div class="form-group">
                          <label for="fieldName">Field Name</label>
                          <ng-select [items]="customfieldName" [formControlName]="i"></ng-select>
                        </div>
                      </td>
                      <td>
                        <div class="form-group">
                          <label for="fieldValue">Field Value</label>
                          <textarea name="" id="fieldValue" rows="1" class="form-control" [formControlName]="i"></textarea>
                        </div>
                      </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <h5 class="text-uppercase bg-light p-2 ml-3 mr-3 mt-3">Blog Details</h5>
          <div class="card-body">
            <div class="row">
              <div class="col-md-12">
                <h4>Blog Details</h4>
                <div class="form-group mb-3">
                  <label for="name">Excerpt</label>
                  <textarea name="" id="" rows="10" class="form-control"></textarea>
                </div>
                <div class="form-group mb-3">
                  <label for="name">Categories</label>
                  <ng-select [items]="categories" [multiple]="true"></ng-select>
                </div>
                <div class="form-group mb-3">
                  <label for="name">Tags</label>
                  <ng-select [items]="tags" [multiple]="true"></ng-select>
                </div>
                <div class="form-group mb-3">
                  <label for="Author">Author</label>
                  <input type="text" class="form-control" id="author" placeholder="">
                </div>
              </div>
            </div>
          </div>
        </div>



      </div>
      <div class="col-3">

        <!-- Status -->
        <div class="card">
          <h5 class="text-uppercase bg-light p-2 ml-3 mr-3 mt-3">Publish</h5>
          <div class="card-body">
            <div class="row">
              <div class="col-md-12">
                <label for="status">Status</label>
                <ng-select [items]="status"></ng-select>
              </div>
              <div class="col-md-12 mt-3">
                <label for="date">Post Date</label>
                <div class="input-group clockpicker">
                  <input ngbDatepicker class="form-control" placeholder="yyyy-mm-dd" #d="ngbDatepicker">
                  <div class="input-group-append" (click)="d.toggle()">
                    <span class="input-group-text"><i class="mdi mdi-calendar"></i></span>
                  </div>
                </div>
              </div>
              <div class="col-md-12 mt-3">
                <div class="text-center">
                  <button type="button"
                    class="btn btn-sm btn-secondary waves-effect waves-light ml-2 mr-2">Cancel</button>
                  <button type="submit" class="btn btn-sm btn-success waves-effect waves-light ml-2 mr-2">Save</button>
                  <button type="button" class="btn btn-sm btn-danger waves-effect waves-light ml-2 mr-2">Delete</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Page Attributes -->
        <div class="card">
          <h5 class="text-uppercase bg-light p-2 ml-3 mr-3 mt-3">Page Attributes</h5>
          <div class="card-body">
            <div class="row">
              <div class="col-md-12">
                <label for="parent-page">Parent Page</label>
                <ng-select [items]="parentPage"></ng-select>
              </div>
            </div>
          </div>
        </div>

        <!-- Featured Image -->
        <div class="card">
          <h5 class="text-uppercase bg-light p-2 ml-3 mr-3 mt-3">Featured Image</h5>
          <div class="card-body">
            <div class="row">
              <div class="col-md-12">

                  <div class="group-gap">

                    <!-- Upload image -->
                    <div class="avatar-upload">
                      <div class="avatar-edit">
                        <input type='file' id="imageUpload" accept=".png, .jpg, .jpeg" #fileInput
                          (change)="uploadFile($event)" />
                      </div>
                      <div class="avatar-preview">
                        <div id="imagePreview" [style.backgroundImage]="'url('+ imageUrl +')'">
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Submit Button -->
                  <button type="submit" class="btn btn-danger btn-block" (click)="fileInput.click()">Upload
                    Image</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>




  <!-- Custom Field Name Modal -->
<ng-template #customFieldNameData let-modal="close">
  <div class="modal-header">
      <h4 class="modal-title">Custom Field Name</h4>
      <button type="button" class="close" (click)="modal('Cross click')" aria-hidden="true">Ã—</button>
  </div>
  <div class="modal-body p-4">
    <div class="form-group">
      <label for="field-1" class="control-label">Name</label>
      <input type="text" class="form-control" id="field-1" placeholder="">
    </div>
  </div>
  <div class="modal-footer">
      <button type="button" class="btn btn-secondary waves-effect" (click)="modal('Cross click')">Close</button>
      <button type="button" class="btn btn-info">Save changes</button>
  </div>
</ng-template>

</div> <!-- container -->
